\field{電子回路}
\title{LEDの灯し方}
\comment{乾電池を直接繋いだだけでは危ない。}
\prev{designing}
\next{symbols}
\create{2015/6/20}
\modify{}


\section{LEDの基礎知識}

　LED というのは最近では一般の人もよく聞く単語になった。
これは「Light Emitting Diode」の頭文字であり「発光ダイオード」という意味だ。
ダイオードというのは、電流を一方にしか流さない性質を持った電子部品である。

<P>

　そのダイオードがたまたま光を発していることが発見され、
原因が調べられ、効率よく光らせることを目的とした幾つもの改良が行われた。
　元がダイオードだから、一方向にしか電気を流さない。
　プラスとマイナスを逆方向に繋いでも全く光らないということだ。

<P>

　逆方向の電圧にはある程度は耐えられるが、
あまり大きな逆方向の電圧をかけると壊れてしまう。
　どこまで耐えられるかという電圧を「\red{逆耐圧}」というのだが、それは部品によって異なる。
　弱いものもあるし、強いものもあるから、部品のデータシートで確認する必要がある。
　しかし乾電池 2 個くらいなら、ほとんど心配要らないものばかりだろう。
　そもそも、ダイオードというのは逆方向に電流が流れないように耐えるのが目的の部品である。
　しかし光らせることを最大の目標にしているので、ただのダイオードよりはずっと弱くなっているのだ。

<P>

　LED は半導体を使っており、内部でのエネルギーの落差を利用している。
　豆電球のような電気抵抗による発熱を利用して発光させるのとは考え方が少し違うのである。
　回路設計で重要な点を一言で言えば、かの有名な「\red{オームの法則}」が通用しない。

<P>

　LED 内部のエネルギーの落差は「\red{順方向電圧}」と呼ばれている。
　あとで説明するが、電子にとって、電圧とはエネルギー落差そのものである。
　最低限、これを越えるだけの電圧が掛けられないと動作できない。

<P>

　ではその電圧を越えてさえいればいいのかと言えば、
あまり高すぎる電圧を掛けても今度は電流が流れ過ぎて壊れてしまう。
　どこまで電流を流してもいいかは部品によって様々なので、これも部品のデータシートで確認する必要がある。
　しかしおおよその目安があるので、慣れてくれば毎回調べる必要もない。

<P>

　電気抵抗とは違って、LED の両端の電位差（電圧）は電流にかかわらずいつも一定だ。
　この落差は量子力学によって決まるものだからである。
　この落差によって LED が出す光の色も決まる。
　振動数の高い光ほどエネルギーが高いから、落差が大きくなっている。




　だから、電源電圧からこの LED の両端の電位差を引いてやり、
残った電圧でオームの法則を考えて、望みの電流が流れるような抵抗値を計算してしてやればいい。
　電流の大きさを望みの値に制御するために、抵抗を挟んでやる必要があるのだ。

\image{./led/led1.png,LEDと抵抗と電源を使った基本的な回路に電圧を書き加えた図}

　もう一度言っておこう。
　電源が作り出すエネルギー落差（すなわち電圧$ V $のこと）の一部は、LED 内部の順方向電圧$ V_{F} $で相殺されてしまっている。
　残りの電圧と、間に挟んだ抵抗の値$ R $によって、回路に流れる電流$ I $が決まる。

<tex>
I \ =\ \frac{V \ -\ V\sub{F}}{R}
</tex>

　電流が大きいほど明るくはなるが、発熱も大きくなって無駄な電力を食う。
　それに、必ずしも最大の輝度で光らせることが目的ではないのだから、
目的の明るさが出る程度の電流値にわざと抑えておくことが重要なのである。


% =======================================================================

\section{LEDの順方向電圧は色によって違う}


　1 個の電子が LED 内部のエネルギーの落差を落ちる時、要らなくなったエネルギーを 1 個の光として放出する。
　LED の順方向電圧が$ V\sub{F} $だとすると、そこを駆け下る電子が得るエネルギーの大きさは$ e V\sub{F} $である。
　この$ e $は電子の電荷を意味している。

<P>

　このように、1 個の電子にとって、電圧とはすなわちエネルギーの落差のことである。

<P>

　光の粒のエネルギーは$ h\nu $であるから、$ e \, V\sub{F} = h\nu $という関係が成り立っている。
　$ \nu $は光の振動数で、$ h $はプランク定数である。
　高い振動数の光を出すように設計された LED の順方向電圧は、それだけ大きくなっている。

<P>

　ちょっと計算してみよう。
　光の振動数$ \nu $と波長$ \lambda $と光速度$ c $には$ \nu \lambda = c $という関係があるから、
ダイオードの順方向電圧は

<tex>
V\sub{F} \ =\ \frac{h\nu}{e} \ =\ \frac{h}{e} \,  \frac{c}{\lambda}
</tex>

と計算してやれる。
　結果は次のとおりだ。

<P>
<center>
<table border="1">
<tr><th>　色　</th><th align="center">　波長　(nm)　</th><th>　順方向電圧　(V)　</th></tr>
<tr><td align="center">赤</td><td align="center">660</td><td align="center">1.88</td></tr>
<tr><td align="center">黄</td><td align="center">580</td><td align="center">2.14</td></tr>
<tr><td align="center">緑</td><td align="center">520</td><td align="center">2.39</td></tr>
<tr><td align="center">青</td><td align="center">450</td><td align="center">2.76</td></tr>
</table>
</center>
<P>

　これは光り始める電圧の理論値であるが、電流が極めて少ない時に成り立つものである。
　しかし実用的な明るさを得られるほどの大電流を流そうとすると、順方向電圧はもっと高くなる傾向がある。
　その辺りの関係を表したグラフも、詳しいデータシートになら載っている。
　順方向電圧$ V_F $は、流す電流によって僅かに変化するのである。

<P>

　\red{それで、赤色や黄色は 2.0 V 、緑色や青色は 3.5 V くらいのものが多い。}

<P>

　つまり、乾電池 1 本では電圧が足りていないのだ。
　青色発光ダイオードの場合には乾電池 2 本でも足りない。

<P>

　テレビのリモコンなどに使っている赤外線発光ダイオードは、
もっと低い電圧でも良くて、波長にもよるが、1.2 V や 1.4 V くらいである。

<P>

　そうだ、赤外線発光ダイオードの話が出たついでにちょっと書いておこう。

<P>

　実は発光しない普通のダイオードも同じ原理なのだから内部で光を出している。
　しかしそれは可視光ではなく、もっとずっと低いエネルギーの電磁波である。
　シリコンダイオードの場合には順方向電圧$ V\sub{F} $が 0.6 V 程度だから、
リモコンの赤外線よりずっと波長の長い赤外線などだ。
　しかしそれが素子の外に漏れて誤動作を引き起こしたという話は聞いたことがない。
　発光ダイオードは光が外へ出て来やすいような構造を、透明電極を使ったり、反射板を入れたりして、
わざわざ作っているのである。
　そうしないと隠れてしまって、光は外には出てこない。



% =======================================================================

\section{電源電圧は高い方が良いのか}

　基本はこれで話し終えた。
　ちょっと具体的に考えてみよう。

<P>

　先ほど、順方向電圧$ V_F $は、流す電流によって僅かに変化すると書いた。
　わずかだからあまり気にしなくてもいいのだが、
最初に自分が LED に流したい電流の値をおおよそ決めておいて、
そのときのおおよその$ V_F $を調べ、それを使ってさっきの式で抵抗値を求めるのが良いだろう。

<P>

　大抵の LED では 10 mA も流せば光っているのがはっきり分かる程度であるし、それ以下でもいいくらいだ。
　最大定格電流が 20 mA くらいのものもあるので、あまり流さないように注意が必要だ。
　部品によっても明るさが全く違うし、色によっても明るさの感じ方が全く違ってくるので、
定格電流を超えない範囲で抵抗値を色々と変えて試してみるのがいいだろう。

<P>

　試しに、順方向電圧が 2.0 V の赤色発光ダイオードに 10 mA を流すことを考えてみよう。
　乾電池が 1 本では電圧が足りていないので、2 本使って 3.0 V にしてみる。
　こうすると余力は 1.0 V あり、この電圧が、電流制限用に挟んだ抵抗に掛かることになる。
　ここに 10 mA 流したいのだから、オームの法則を使って、100 Ω の抵抗を繋げば目的を果たせることになる。
　定格電流がもし 20 mA だとしたら、抵抗を 50 Ω より小さくしてしまうともうアウトだ。

<P>

　ところがだ、市販の抵抗器は、100 Ω 以下では 75 Ω、51 Ωなどがあるが、
この中間の値を使おうとすると 10 Ωなどの小さな値の抵抗を直列にして調整するしかない。
　そうすると部品数が増えるし、工作の手間も増えるし、スペースももったいない。

<P>

　しかも抵抗器自体にそこまで微調整をするだけの精度があるかどうかも疑わしい。
　普通に安く売っている抵抗器の値の精度はそもそも 5 \% か 10 \% かくらいなのである。
　わざわざ精度の高い、高価な抵抗器を使うほどの意味もない回路だ。
　大雑把で構わない。

<P>

　電池を 4 本に増やして電源を 6.0 V にしてみたらどうだろうか。
　順方向電圧が 2.0 V だから余力は 4 V になる。
　ここに 10 mA を流そうと思ったら、400 Ω にすればいい。
　今回は 200 Ω 以下にすると 20 mA 以上流れてしまうからアウトだ。
　200 Ωと 400 Ω の間には先ほどよりは選択肢が多いから、抵抗器 1 本で微調整が利く。

<P>

　このように、余力がぎりぎりだと、抵抗器のちょっとした値の違いで
電流値が大きく変わってしまうし、細かい調整が難しいのである。
　余力が大きいと抵抗器のバラつきの影響も少なめに抑えられて、
狙った通りの電流値を実現することが簡単になる。

<P>

　\red{では電源電圧を上げることのデメリットはあるだろうか？}
　最初に試した電源 3.0 V の方では、100 Ωの抵抗に 1.0 V がかかり、10 mA が流れていた。
　次に試した電源 6.0 V の方では、400 Ωの抵抗に 4.0 V がかかり、10 mA が流れていた。
　最初の方では、抵抗で消費される電力は 10 mW だが、
後の方では、抵抗で消費される電力は 40 mW である。
　発光ダイオードを点灯させるのが目的なのに、それとは何の関係もない抵抗器が発熱して
エネルギーを無駄に消費してしまうのである。

<P>

　市販の安価な抵抗器の許容ワット数は 1/6 W や 1/4 W というものがあり、
さらにほんの少し高くなるが 1/2 W というものもある。
　その許容値の半分以下で使うのが普通だが、
今回の例ではそれを超えていないので安全性も問題ない。

<P>

　このように、ただ LED を点灯させるということだけ考えてみても、
設計とは何なのかということが見えてくると思う。
　どのような選択をしても間違いではない。
　LED を安全に点灯させるという目的が実現しているからである。
　数ある選択肢から、利点や弱点を考慮して、良いと思ったものを自分で選べばいいのだ。


% =======================================================================

\section{LEDのみの並列接続はおすすめできない}

　一つの電源で多数の LED を点灯させたいときはどうしたらいいだろうか。

<P>

　LED を直列にするなら、話は簡単である。
　並べる LED の順方向電圧を合計して電源電圧から引いてやり、
余力の電圧を使って先ほどと同じやり方で抵抗の計算をしてやればいい。

\image{./led/led2.png,2個のLEDと抵抗を直列にした回路に電圧を書き加えた図}

　色や種類の異なる LED を直列にしてもいいが、
この方法だと全ての LED に同じ量の電流が流れるので、個々の明るさの調整はできない。

<P>

　また、あまり多数の LED を直列にすると電源電圧がすぐに足りなくなってしまう。
　しかも、余力に余裕が無いと、順方向電圧の合計が予測したよりも大きくなっていた場合に、
余力の電圧の見積りのずれが大きくなってしまい、電流値も設計とは大きく外れてしまう。
　電源電圧には余裕があった方がいい。

<P>

　もっと多くの LED を点灯させたい場合には並列にするしかないわけだが、
この時、並列する線の一個一個に抵抗を付ける必要がある。
　豆電球とは違って、並列した LED の全てに電流が均等に分かれてくれないからだ。

\image{./led/led3.png,並列接続した多数のLEDのそれぞれに抵抗を直列に入れた回路図}

　LED にはオームの法則が成り立たず、電流と電圧が比例していない。
　ある電圧を越えたところから急に電流が流れ始めるという性質がある。
　たとえ同じメーカーの同じ部品であっても、
どの電圧で急に流れ始めるのかというのはわずかなバラつきがあるものだ。
　LED のみを並列にすると、全ての LED の両端電圧が同じになってしまい、
同じ電圧であるにもかかわらず、電流がほとんど流れなかったり、大量に流れたりという差が生まれるのである。
　電流が均等に分かれてくれるだろうと考えて設計すると、
どれか一つの LED だけに全ての電流が流れこんで LED が破損するということが起こり得るのである。

<P>

　そういう理由で、
電流制限抵抗を一つだけにして LED を並列にするという設計はやるべきではない。

\image{./led/led4.png,多数のLEDだけを並列接続した回路図の全体に大きくバツ印を書いてこのような回路を作るべきではないことを表した図}

　やるなら、面倒でも、全ての LED に電流制限抵抗をつけたものをワンセットとして、
それを並列にするべきである。
　これなら、個々の LED の両端がそれぞれ違った電圧になることが許されるので、
設計通りの結果が得られるのである。


